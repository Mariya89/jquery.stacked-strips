$.fn.stacked_strips=function(i){function s(){void 0===i.type&&(i.type="standard"),void 0!==i.active_position&&"number"===$.type(i.active_position)||(i.active_position=50),void 0===i.strip_size&&(i.strip_size="full"),void 0===i.after_class&&(i.after_class=!1),void 0===i.fixed&&(i.fixed=!0)}function e(){d=$(window).height(),r="full"===i.strip_size?d:"auto"===i.strip_size?"":i.strip_size,$.each(n,function(s){"auto"===i.strip_size?$(this).css({height:r,"z-index":10*s}):$(this).height()>r?$(this).css("z-index",10*s):$(this).css({height:r,"z-index":10*s})})}function t(){c=$(window).scrollTop(),console.log(c)}function o(s,e,t){var o=s.outerHeight(),l=$('<div class="fake-strip"></div>').clone().css("height",o),f,h=o/100*i.active_position;c>=e&&i.fixed===!0?t<a-1&&o===r&&(s.prev().hasClass("fake-strip")||s.before(l),s.addClass("fixed"),s.removeClass("unfixed")):(s.prev().hasClass("fake-strip")&&s.prev().remove(),s.removeClass("fixed"),s.addClass("unfixed")),c>=e-(d-h)?(console.log(c),i.after_class===!0&&(f=t-1,void 0!==n[f]&&$(n[f]).addClass("after")),s.addClass("active")):(i.after_class===!0&&(f=t-1,void 0!==n[f]&&$(n[f]).removeClass("after")),s.removeClass("active"))}var n=this,a=n.length,r,d=$(window).height(),c=0;return 1===a?(console.error("stacked_strips requires more than 1 item to work. Exiting."),!1):a<1?(console.error("stacked_strips did not find any matching elements. Exiting."),!1):($(window).on("scroll",t),$(window).on("resize",e),s(),e(),this.each(function(i){var s=$(this),e=i,t=s.offset().top;console.log(t),o(s,t,e),$(window).on("scroll",function(){o(s,t,e)})}))};