$.fn.stacked_strips=function(s){function i(){void 0===s.type&&(s.type="standard"),void 0===s.active_position&&(s.active_position=50),void 0===s.strip_size&&(s.strip_size="full"),void 0===s.after_class&&(s.after_class=!1)}function e(){n="full"===s.strip_size?d:s.strip_size,$.each(a,function(s){$(this).height()>n?$(this).css("z-index",10*s):$(this).css({height:n,"z-index":10*s})})}function t(){c=$(window).scrollTop()}function o(i,e,t){var o=i.outerHeight(),d=$('<div class="fake-strip"></div>').clone().css("height",o),l,f=o/100*s.active_position;c>=e?t<r-1&&o===n&&(i.prev().hasClass("fake-strip")||i.before(d),i.addClass("fixed"),i.removeClass("unfixed")):(i.prev().hasClass("fake-strip")&&i.prev().remove(),i.removeClass("fixed"),i.addClass("unfixed")),c>=e-(n-f)?(s.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).addClass("after")),i.addClass("active")):(s.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).removeClass("after")),i.removeClass("active"))}var a=this,r=a.length,n,d=$(window).height(),c=0;return 1===r?(console.error("stacked_strips requires more than 1 item to work. Exiting."),!1):r<1?(console.error("stacked_strips did not find any matching elements. Exiting."),!1):($(window).on("scroll",t),i(),e(),this.each(function(s){var i=$(this),e=s,t=i.offset().top;o(i,t,e),$(window).on("scroll",function(){o(i,t,e)})}))};