$.fn.stacked_strips=function(s){function i(){void 0===s.type&&(s.type="standard"),void 0!==s.active_position&&"number"===$.type(s.active_position)||(s.active_position=50),void 0===s.strip_size&&(s.strip_size="full"),void 0===s.after_class&&(s.after_class=!1)}function e(){r="full"===s.strip_size?c:s.strip_size,$.each(a,function(s){$(this).height()>r?$(this).css("z-index",10*s):$(this).css({height:r,"z-index":10*s})})}function t(){d=$(window).scrollTop()}function o(i,e,t){var o=i.outerHeight(),c=$('<div class="fake-strip"></div>').clone().css("height",o),l,f=o/100*s.active_position;d>=e?t<n-1&&o===r&&(i.prev().hasClass("fake-strip")||i.before(c),i.addClass("fixed"),i.removeClass("unfixed")):(i.prev().hasClass("fake-strip")&&i.prev().remove(),i.removeClass("fixed"),i.addClass("unfixed")),d>=e-(r-f)?(s.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).addClass("after")),i.addClass("active")):(s.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).removeClass("after")),i.removeClass("active"))}var a=this,n=a.length,r,c=$(window).height(),d=0;return 1===n?(console.error("stacked_strips requires more than 1 item to work. Exiting."),!1):n<1?(console.error("stacked_strips did not find any matching elements. Exiting."),!1):($(window).on("scroll",t),i(),e(),this.each(function(s){var i=$(this),e=s,t=i.offset().top;o(i,t,e),$(window).on("scroll",function(){o(i,t,e)})}))};